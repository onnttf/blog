{"id":"D_kwDONzrbkM4AeNZn","title":"Ubuntu å®‰è£… MySQL æŒ‡å—","body":"## å®‰è£…æ­¥éª¤\r\n\r\n### å®‰è£… MySQL APT é…ç½®åŒ…\r\n\r\n1. è®¿é—® [MySQL APT Repository](https://dev.mysql.com/downloads/repo/apt/)ï¼Œæ‰¾åˆ°æœ€æ–°çš„é…ç½®åŒ…\r\n2. ç‚¹å‡» `Download` æŒ‰é’®å¹¶å¤åˆ¶ `No thanks, just start my download` çš„ä¸‹è½½é“¾æ¥\r\n3. ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½å¹¶å®‰è£…é…ç½®åŒ…ï¼š\r\n\r\n   ```bash\r\n   # ä¸‹è½½é…ç½®åŒ…\r\n   wget https://dev.mysql.com/get/mysql-apt-config_0.8.12-1_all.deb\r\n   # å®‰è£…é…ç½®åŒ…\r\n   sudo dpkg -i mysql-apt-config_0.8.12-1_all.deb\r\n   ```\r\n\r\n4. åœ¨é…ç½®ç•Œé¢ä¸­é€‰æ‹© `MySQL 5.7` ç‰ˆæœ¬ï¼ŒæŒ‰ `OK` ç¡®è®¤\r\n\r\n   ![image](https://file.onnttf.site/2019/04/03/1.jpg)\r\n\r\n### å®‰è£… MySQL\r\n\r\n```bash\r\n# æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨\r\nsudo apt-get update\r\n# å®‰è£… MySQL\r\nsudo apt-get install mysql-server mysql-common mysql-client\r\n```\r\n\r\n> æ³¨æ„ï¼šå®‰è£…è¿‡ç¨‹ä¸­ç³»ç»Ÿä¼šå¼¹å‡º `root` å¯†ç è®¾ç½®ç•Œé¢ï¼Œè¯·è®¾ç½®ä¸€ä¸ªå®‰å…¨çš„å¯†ç å¹¶ç‰¢è®°ã€‚å¦‚æœæ²¡æœ‰å‡ºç°å¯†ç è®¾ç½®ç•Œé¢ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œæ‚¨å¯ä»¥åœ¨å®Œæˆå®‰è£…åæŒ‰ç…§åç»­æ­¥éª¤ä¸­çš„è¯´æ˜è¿›è¡Œå¯†ç è®¾ç½®ã€‚ç¡®ä¿é€‰æ‹©çš„å¯†ç å…·æœ‰è¶³å¤Ÿçš„å¤æ‚åº¦ï¼Œå»ºè®®åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦ã€‚\r\n\r\n### éªŒè¯å®‰è£…\r\n\r\n`MySQL` å®‰è£…å®Œæˆåä¼šè‡ªåŠ¨å¯åŠ¨ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥çŠ¶æ€ï¼š\r\n\r\n```bash\r\nsudo systemctl status mysql\r\n```\r\n\r\nå¸¸ç”¨æœåŠ¡å‘½ä»¤ï¼š\r\n\r\n```bash\r\nsudo systemctl start mysql   # å¯åŠ¨\r\nsudo systemctl stop mysql    # åœæ­¢\r\nsudo systemctl restart mysql # é‡å¯\r\n```\r\n\r\n### å®‰å…¨é…ç½®\r\n\r\n#### ä¿®æ”¹ root å¯†ç \r\n\r\n```bash\r\n# ä»¥ root èº«ä»½ç™»å½• MySQL\r\nsudo mysql\r\n\r\n# ä¿®æ”¹éªŒè¯æ–¹å¼å’Œå¯†ç \r\nmysql> ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'æ‚¨çš„æ–°å¯†ç ';\r\nmysql> FLUSH PRIVILEGES;\r\nmysql> EXIT;\r\n```\r\n\r\n#### åˆ›å»ºæ–°ç”¨æˆ·\r\n\r\n```bash\r\nmysql> CREATE USER 'ç”¨æˆ·å'@'%' IDENTIFIED BY 'å¯†ç ';\r\n```\r\n\r\n> `%` è¡¨ç¤ºå…è®¸è¿œç¨‹è®¿é—®ï¼Œ`localhost` è¡¨ç¤ºä»…å…è®¸æœ¬åœ°è®¿é—®\r\n\r\n### ä¼˜åŒ–é…ç½®\r\n\r\n#### è®¾ç½® `UTF-8` å­—ç¬¦é›†\r\n\r\nç¼–è¾‘ `/etc/mysql/mysql.conf.d/mysqld.cnf`ï¼š\r\n\r\n```ini\r\n[client]\r\ndefault-character-set=utf8mb4\r\n\r\n[mysql]\r\ndefault-character-set=utf8mb4\r\n\r\n[mysqld]\r\ncharacter-set-server=utf8mb4\r\ncollation-server=utf8mb4_unicode_ci\r\n```\r\n\r\n#### é…ç½®è¿œç¨‹è®¿é—®\r\n\r\n1. ç¼–è¾‘é…ç½®æ–‡ä»¶\r\n\r\n   ```bash\r\n   sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf\r\n   # æ³¨é‡Šæ‰ bind-address = 127.0.0.1\r\n   ```\r\n\r\n2. æˆæƒè¿œç¨‹è®¿é—®\r\n\r\n   ```bash\r\n   mysql> GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'å¯†ç ' WITH GRANT OPTION;\r\n   mysql> FLUSH PRIVILEGES;\r\n   ```\r\n\r\n3. é‡å¯ `MySQL`ï¼š\r\n\r\n   ```bash\r\n   sudo systemctl restart mysql\r\n   ```\r\n\r\n## å¸¸è§é—®é¢˜æ’æŸ¥\r\n\r\n1. æ— æ³•è¿œç¨‹è¿æ¥\r\n\r\n   - æ£€æŸ¥é˜²ç«å¢™é…ç½®\r\n   - éªŒè¯ `bind-address` è®¾ç½®\r\n   - ç¡®è®¤ç”¨æˆ·æƒé™\r\n\r\n2. å­—ç¬¦é›†é—®é¢˜\r\n\r\n   - ä½¿ç”¨ `SHOW VARIABLES LIKE 'character%';` æ£€æŸ¥é…ç½®\r\n   - ç¡®ä¿åº”ç”¨ç«¯ä½¿ç”¨æ­£ç¡®çš„å­—ç¬¦é›†\r\n\r\n## å‚è€ƒèµ„æ–™\r\n\r\n1. [MySQL å®˜æ–¹æ–‡æ¡£](https://dev.mysql.com/doc/)\r\n2. [Ubuntu MySQL å®‰è£…æŒ‡å—](https://ubuntu.com/server/docs/databases-mysql)\r\n","number":18,"labels":{"nodes":[]},"category":{"id":"DIC_kwDONzrbkM4Cmnbf","name":"Show and tell","slug":"show-and-tell","emoji":":raised_hands:","emojiHTML":"<div>ğŸ™Œ</div>"},"author":{"login":"onnttf"},"authorAssociation":"OWNER","createdAt":"2019-04-03T08:00:00Z","updatedAt":"2025-02-05T10:59:15Z","repository":{"id":"R_kgDONzrbkA","url":"https://github.com/onnttf/blog"},"url":"https://github.com/onnttf/blog/discussions/18","jsonFilePath":"discussions/18-D_kwDONzrbkM4AeNZn.json","markdownFilePath":"2019/4/18-D_kwDONzrbkM4AeNZn.md"}
