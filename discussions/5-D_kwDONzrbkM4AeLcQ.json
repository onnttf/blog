{"id":"D_kwDONzrbkM4AeLcQ","title":"ä»é›¶å¼€å§‹æ­å»º Hexo åšå®¢","body":"[Hexo](https://hexo.io) æ˜¯ä¸€æ¬¾é«˜æ•ˆã€ç®€æ´ä¸”å¼ºå¤§çš„é™æ€åšå®¢æ¡†æ¶ï¼Œå¹¿å—å¼€å‘è€…å–œçˆ±ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œå®Œæˆ `Hexo` åšå®¢çš„å®‰è£…ä¸éƒ¨ç½²ï¼Œè½»æ¾åˆ›å»ºå±äºä½ çš„ä¸ªäººåšå®¢ï¼\r\n\r\n## å‡†å¤‡å·¥ä½œ\r\n\r\n`Hexo` éœ€è¦ä¸‹åˆ—ç¨‹åºçš„æ”¯æŒã€‚è¯·ç¡®ä¿ä½ å·²å®‰è£…è¿™äº›ç¨‹åºï¼š\r\n\r\n- `Node.js`\r\n\r\n  (`Node.js` ç‰ˆæœ¬éœ€ä¸ä½äº `10.13`ï¼Œå»ºè®®ä½¿ç”¨ `Node.js 12.0` åŠä»¥ä¸Šç‰ˆæœ¬)\r\n\r\n- `Git`\r\n\r\nå¦‚æœæ‚¨çš„ç”µè„‘ä¸­å·²ç»å®‰è£…äº†ä¸Šè¿°ç¨‹åºï¼Œæ‚¨å¯ä»¥ç›´æ¥å‰å¾€ä¸‹ä¸€èŠ‚ã€‚\r\n\r\n## å®‰è£… `Hexo` è„šæ‰‹æ¶\r\n\r\n```bash\r\n~/Desktop/blog\r\nâ¯ npm install -g hexo-cli\r\n\r\nadded 54 packages, and audited 55 packages in 8s\r\n\r\n14 packages are looking for funding\r\n  run `npm fund` for details\r\n\r\nfound 0 vulnerabilities\r\n```\r\n\r\nå®‰è£…å®Œæˆåï¼Œé€šè¿‡ `hexo -v` æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š\r\n\r\n```bash\r\n~/Desktop/blog\r\nâ¯ hexo -v\r\nhexo-cli: 4.3.2\r\nos: darwin 24.1.0 15.1.1\r\n\r\nnode: 16.20.2\r\nv8: 9.4.146.26-node.26\r\nuv: 1.49.2\r\nzlib: 1.2.12\r\nbrotli: 1.1.0\r\nares: 1.34.2\r\nmodules: 93\r\nnghttp2: 1.64.0\r\nnapi: 8\r\nllhttp: 6.0.11\r\nopenssl: 3.4.0\r\ncldr: 46.0\r\nicu: 76.1\r\ntz: 2024b\r\nunicode: 16.0\r\n```\r\n\r\n## åˆå§‹åŒ– `Hexo` åšå®¢\r\n\r\né€šè¿‡ç»ˆç«¯è¿›å…¥æ‚¨æƒ³è¦åˆ›å»ºåšå®¢çš„æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ï¼š\r\n\r\n```bash\r\n~/Desktop/blog\r\nâ¯ hexo init\r\nINFO  Cloning hexo-starter https://github.com/hexojs/hexo-starter.git\r\nwarning hexo > warehouse > cuid@2.1.8: Cuid and other k-sortable and non-cryptographic ids (Ulid, ObjectId, KSUID, all UUIDs) are all insecure. Use @paralleldrive/cuid2 instead.\r\nwarning hexo-renderer-marked > jsdom > abab@2.0.6: Use your platform's native atob() and btoa() methods instead\r\nwarning hexo-renderer-marked > jsdom > data-urls > abab@2.0.6: Use your platform's native atob() and btoa() methods instead\r\nwarning hexo-renderer-marked > jsdom > domexception@4.0.0: Use your platform's native DOMException instead\r\nwarning hexo-renderer-stylus > stylus > glob@7.2.3: Glob versions prior to v9 are no longer supported\r\nwarning hexo-renderer-stylus > stylus > glob > inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\r\nINFO  Start blogging with Hexo!\r\n```\r\n\r\nåˆå§‹åŒ–å®Œæˆåï¼Œæ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹ï¼š\r\n\r\n```bash\r\n~/Desktop/blog\r\nâ¯ tree -L 1\r\n.\r\nâ”œâ”€â”€ _config.landscape.yml\r\nâ”œâ”€â”€ _config.yml\r\nâ”œâ”€â”€ node_modules\r\nâ”œâ”€â”€ package.json\r\nâ”œâ”€â”€ scaffolds\r\nâ”œâ”€â”€ source\r\nâ”œâ”€â”€ themes\r\nâ””â”€â”€ yarn.lock\r\n\r\n5 directories, 4 files\r\n```\r\n\r\n- _config.yml\r\n\r\n  ç½‘ç«™çš„é…ç½®æ–‡ä»¶ã€‚æ‚¨å¯ä»¥åœ¨æ­¤é…ç½®å¤§éƒ¨åˆ†çš„å‚æ•°ï¼Œå¦‚ç½‘ç«™æ ‡é¢˜ã€ç½‘ç«™çš„å…³é”®è¯ç­‰ã€‚\r\n\r\n- package.json\r\n\r\n  åº”ç”¨ç¨‹åºçš„ä¾èµ–ä¿¡æ¯ã€‚\r\n  åŒ…æ‹¬ `EJS`ã€`Stylus` å’Œ `Markdown` æ¸²æŸ“å¼•æ“ï¼Œè¿™äº›å·²é»˜è®¤å®‰è£…ã€‚å¦‚æœä¸éœ€è¦ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªç”±ç§»é™¤å®ƒä»¬ã€‚\r\n\r\n- scaffolds\r\n\r\n  æ¨¡ç‰ˆæ–‡ä»¶å¤¹ã€‚å½“æ‚¨æ–°å»ºæ–‡ç« æ—¶ï¼Œ`Hexo` ä¼šæ ¹æ® `scaffold` æ¥åˆ›å»ºæ–‡ä»¶ã€‚\r\n\r\n- source\r\n\r\n  èµ„æºæ–‡ä»¶å¤¹ã€‚ç”¨äºå­˜æ”¾ç”¨æˆ·èµ„æºã€‚é™¤äº† `_posts` æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œæ‰€æœ‰ä»¥ `_`ï¼ˆä¸‹åˆ’çº¿ï¼‰å¼€å¤´çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ä»¥åŠéšè—æ–‡ä»¶å°†è¢«å¿½ç•¥ã€‚Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ° `public` æ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»ã€‚\r\n\r\n- themes\r\n\r\n  ä¸»é¢˜æ–‡ä»¶å¤¹ã€‚`Hexo` ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚\r\n\r\n## é¢„è§ˆåšå®¢\r\n\r\nåœ¨ç»ˆç«¯ä¸­ï¼Œæ‰§è¡Œ `hexo server` å¯åŠ¨æœåŠ¡å™¨ï¼Œå³å¯çœ‹åˆ°ä½ çš„åšå®¢åˆå§‹ç•Œé¢ï¼\r\n\r\né»˜è®¤æƒ…å†µä¸‹ï¼Œè®¿é—®ç½‘å€ä¸ºï¼š<http://localhost:4000/>ã€‚\r\n\r\n```bash\r\nâ¯ hexo server\r\nINFO  Validating config\r\nINFO  Start processing\r\nINFO  Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.\r\n```\r\n\r\n## éƒ¨ç½²åšå®¢åˆ° GitHub Pages\r\n\r\nä½¿ç”¨ `GitHub Actions` å°†åšå®¢éƒ¨ç½²åˆ° `GitHub Pages`ã€‚\r\n\r\n**è¯·æ³¨æ„**ï¼šåœ¨ä»¥ä¸‹æ­¥éª¤ä¸­ï¼Œæ‰€æœ‰æ¶‰åŠåˆ° GitHub ç”¨æˆ·åçš„åœ°æ–¹ï¼Œè¯·å°† `username` æ›¿æ¢ä¸ºä½ çš„ `GitHub` ç”¨æˆ·åã€‚\r\n\r\n1. åœ¨ `GitHub` ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º `username.github.io` çš„ä»“åº“\r\n2. å‰å¾€ä»“åº“çš„è®¾ç½®é¡µé¢ï¼Œè¿›å…¥ `Settings > Pages`ï¼Œå°† `Source` ä¸­çš„é€‰é¡¹æ›´æ”¹ä¸º `GitHub Actions`ï¼Œç„¶åä¿å­˜è®¾ç½®\r\n3. åˆ›å»º `.github/workflows/pages.yml` æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š\r\n\r\n   ```text\r\n   name: Pages\r\n\r\n   on:\r\n      push:\r\n         branches:\r\n            - main # default branch\r\n\r\n   jobs:\r\n      build:\r\n         runs-on: ubuntu-latest\r\n         steps:\r\n            - uses: actions/checkout@v4\r\n            with:\r\n               token: ${{ secrets.GITHUB_TOKEN }}\r\n               # If your repository depends on submodule, please see: https://github.com/actions/checkout\r\n               submodules: recursive\r\n            - name: Use Node.js 20\r\n            uses: actions/setup-node@v4\r\n            - name: Cache NPM dependencies\r\n            uses: actions/cache@v4\r\n            with:\r\n               path: node_modules\r\n               key: ${{ runner.OS }}-npm-cache\r\n               restore-keys: |\r\n                  ${{ runner.OS }}-npm-cache\r\n            - name: Install Dependencies\r\n            run: npm install\r\n            - name: Build\r\n            run: npm run build\r\n            - name: Upload Pages artifact\r\n            uses: actions/upload-pages-artifact@v3\r\n            with:\r\n               path: ./public\r\n      deploy:\r\n         needs: build\r\n         permissions:\r\n            pages: write\r\n            id-token: write\r\n         environment:\r\n            name: github-pages\r\n            url: ${{ steps.deployment.outputs.page_url }}\r\n         runs-on: ubuntu-latest\r\n         steps:\r\n            - name: Deploy to GitHub Pages\r\n            id: deployment\r\n            uses: actions/deploy-pages@v4\r\n   ```\r\n\r\n4. å°†åšå®¢æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶æ¨é€åˆ°è¯¥ä»“åº“\r\n5. å½“ action è¿è¡Œå®Œæˆåï¼Œå‰å¾€ <https://username.github.io> æŸ¥çœ‹å·²éƒ¨ç½²çš„åšå®¢\r\n\r\n### ä¸€é”®éƒ¨ç½²\r\n\r\nä¸ºäº†æ–¹ä¾¿å¿«æ·åœ°å°†æœ¬åœ°åšå®¢å‘å¸ƒåˆ° `GitHub Pages`ï¼Œæˆ‘ä»¬å¯ä»¥å®‰è£… [hexo-deployer-git](https://github.com/hexojs/hexo-deployer-git) éƒ¨ç½²å·¥å…·ã€‚é€šè¿‡è¯¥å·¥å…·ï¼Œå¯ä»¥ç›´æ¥å°†åšå®¢å‘å¸ƒåˆ° `GitHub Pages`ï¼Œå®ç°å¿«é€Ÿéƒ¨ç½²ã€‚\r\n\r\n1. åœ¨åšå®¢çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… `hexo-deployer-git` æ’ä»¶\r\n\r\n   ```bash\r\n   ~/Desktop/blog\r\n   â¯ npm install hexo-deployer-git --save\r\n   (node:15001) ExperimentalWarning: CommonJS module /usr/local/lib/node_modules/npm/node_modules/debug/src/node.js is loading ES Module /usr/local/lib/node_modules/npm/node_modules/supports-color/index.js using require().\r\n   Support for loading ES Module in require() is an experimental feature and might change at any time\r\n   (Use `node --trace-warnings ...` to show where the warning was created)\r\n\r\n   added 9 packages, and audited 232 packages in 5s\r\n\r\n   29 packages are looking for funding\r\n   run `npm fund` for details\r\n\r\n   found 0 vulnerabilities\r\n   ```\r\n\r\n2. ä¿®æ”¹ `_config.yml` æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®\r\n\r\n   ```text\r\n   deploy:\r\n      type: git\r\n      repo: https://github.com/<username>/<project>\r\n      # example, https://github.com/onnttf/onnttf.github.io\r\n      branch: gh-pages\r\n   ```\r\n\r\n3. æ‰§è¡Œ `hexo clean && hexo deploy` å³å¯\r\n\r\n## æ—¥å¸¸æ›´æ–°åšå®¢\r\n\r\nå½“ä½ å†™äº†æ–°çš„åšå®¢æ–‡ç« ï¼Œæˆ–æ˜¯ä¿®æ”¹äº†åšå®¢çš„ä¸»é¢˜åï¼Œåªéœ€è¦é€šè¿‡ç»ˆç«¯è¿›å…¥æœ¬åœ°åšå®¢çš„æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ›´æ–°å¹¶éƒ¨ç½²åšå®¢ï¼š\r\n\r\n```bash\r\nhexo clean && hexo deploy\r\n```\r\n\r\næ‰§è¡Œå®Œå‘½ä»¤åï¼Œæ‰€æœ‰åœ¨æœ¬åœ°çš„ä¿®æ”¹éƒ½ä¼šéƒ¨ç½²åˆ° `GitHub Pages`ï¼Œä½ çš„åšå®¢å°†ä¼šè‡ªåŠ¨æ›´æ–°ã€‚\r\n\r\n## æœ€å\r\n\r\nè®©æˆ‘ä»¬æŒç»­æ›´æ–°åšå®¢å†…å®¹ï¼Œåˆ†äº«æˆ‘ä»¬çš„æ‰€æ€æ‰€æƒ³ï¼\r\n","number":5,"labels":{"nodes":[]},"category":{"id":"DIC_kwDONzrbkM4Cmnbf","name":"Show and tell","slug":"show-and-tell","emoji":":raised_hands:","emojiHTML":"<div>ğŸ™Œ</div>"},"author":{"login":"onnttf"},"authorAssociation":"OWNER","createdAt":"2017-11-26T08:00:00Z","updatedAt":"2025-02-03T15:30:16Z","repository":{"id":"R_kgDONzrbkA","url":"https://github.com/onnttf/blog"},"url":"https://github.com/onnttf/blog/discussions/5","jsonFilePath":"discussions/5-D_kwDONzrbkM4AeLcQ.json","markdownFilePath":"2017/11/5-D_kwDONzrbkM4AeLcQ.md"}
